(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[32],{651:function(e,t,n){},745:function(e,t,n){"use strict";n.r(t);var r=n(7),c=n.n(r),a=n(8),i=n(2),o=n(1),s=n(648),l=n(10),j=n.n(l),d=(n(651),n(13)),u=n(0);t.default=function(){var e=Object(d.b)().token,t=Object(o.useState)(null),n=Object(i.a)(t,2),r=n[0],l=n[1],b=Object(o.useState)([]),h=Object(i.a)(b,2),p=h[0],O=h[1],x=Object(o.useState)(!1),v=Object(i.a)(x,2),f=v[0],m=v[1],y=Object(o.useState)(0),g=Object(i.a)(y,2),k=g[0],S=g[1],w=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new s.a("p","pt","a4").html(document.querySelector("#content"),{callback:function(e){e.save("mypdf.pdf")}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=Object(a.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===k){t.next=14;break}return t.prev=1,t.next=4,j.a.get("/api/dashboard/reports/".concat(k),{headers:{Authorization:"Bearer ".concat(e[0])}});case 4:return n=t.sent,O(n.data.array),console.log("report: ",n.data.array),m(!0),t.abrupt("return",n);case 11:t.prev=11,t.t0=t.catch(1),l(t.t0.response.data.error);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){_()}),[k]),r&&setTimeout((function(){l(null)}),2e3),Object(u.jsxs)("div",{className:"dashboard__reports",children:[r&&Object(u.jsx)("div",{className:"error__box",children:r}),Object(u.jsxs)("div",{className:"dashboard__reports-buttons",children:[Object(u.jsx)("button",{onClick:w,type:"primary",children:"Generate Pdf"}),Object(u.jsx)("br",{}),Object(u.jsxs)("select",{id:"reports__months",onChange:function(e){return S(parseInt(e.target.value))},children:[Object(u.jsx)("option",{value:"0",children:"Select Month for Report"}),Object(u.jsx)("option",{value:"1",children:"January"}),Object(u.jsx)("option",{value:"2",children:"February"}),Object(u.jsx)("option",{value:"3",children:"March"}),Object(u.jsx)("option",{value:"4",children:"April"}),Object(u.jsx)("option",{value:"5",children:"May"}),Object(u.jsx)("option",{value:"6",children:"June"}),Object(u.jsx)("option",{value:"7",children:"July"}),Object(u.jsx)("option",{value:"8",children:"August"}),Object(u.jsx)("option",{value:"9",children:"September"}),Object(u.jsx)("option",{value:"10",children:"October"}),Object(u.jsx)("option",{value:"11",children:"November"}),Object(u.jsx)("option",{value:"12",children:"December"})]})]}),Object(u.jsx)("div",{id:"content",style:{visibility:f?"visible":"hidden",margin:"20px auto"},children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"name"}),Object(u.jsx)("th",{children:"email"}),Object(u.jsx)("th",{children:"amount"})]})}),Object(u.jsxs)("tbody",{children:[p.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{style:{textTransform:"capitalize"},children:e.name+" "+e.lastName}),Object(u.jsxs)("td",{children:[null===e||void 0===e?void 0:e.email," "]}),Object(u.jsx)("td",{children:null===e||void 0===e?void 0:e.total})]},t)})),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Total"}),Object(u.jsx)("td",{colSpan:2,style:{textAlign:"right",paddingRight:"60px",fontSize:"larger"},children:null===p||void 0===p?void 0:p.reduce((function(e,t){return"takeaway"===t.deliveryOption?t.total+e:"homedelivery"===t.deliveryOption?t.total+parseInt(t.deliveryCharges)+e:0}),0)})]})]})]})})]})}}}]);
//# sourceMappingURL=32.069e54ae.chunk.js.map