{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","Components/Screens/Auth/Login.jsx"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Login","userAPI","useStateValue","isLoggedIn","useState","email","password","user","setUser","error","setError","handleSubmit","e","a","preventDefault","axios","post","response","localStorage","setItem","data","accessToken","window","location","href","setTimeout","onChangeInput","name","value","className","onSubmit","type","placeholder","onChange","to"],"mappings":"mGAAA,8CAEA,SAASA,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EAGM,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAC9C,YAAeN,EAAQM,EAAKF,EAAOE,OAE5BhB,OAAOiB,0BAChBjB,OAAOkB,iBAAiBR,EAAQV,OAAOiB,0BAA0BH,IAEjElB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GACxChB,OAAOmB,eAAeT,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAKjF,OAAON,I,wKCmDMU,UA9ED,WACb,IAAQC,EAAYC,cAAZD,QACDE,EAAP,YAAqBF,EAAQE,WAA7B,MACA,EAAwBC,mBAAS,CAChCC,MAAO,GACPC,SAAU,KAFX,mBAAOC,EAAP,KAAaC,EAAb,KAIA,EAA0BJ,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAEMC,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACpBD,EAAEE,iBADkB,kBAIIC,IAAMC,KAAK,kBAAmB,CACpDX,MAAOE,EAAKF,MACZC,SAAUC,EAAKD,WANG,OAIbW,EAJa,OASnBC,aAAaC,QAAQ,SAAS,GAC9BD,aAAaC,QAAQ,eAArB,OAAqCF,QAArC,IAAqCA,OAArC,EAAqCA,EAAUG,KAAKC,aACpDC,OAAOC,SAASC,KAAO,IAXJ,kDAanBd,EAAS,KAAIO,SAASG,KAAKX,OAC3BgB,YAAW,WACVf,EAAS,QACP,KAhBgB,0DAAH,sDAoBZgB,EAAgB,SAACd,GACtB,MAAwBA,EAAEtB,OAAlBqC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAEdpB,EAAQ,2BAAKD,GAAN,kBAAaoB,EAAOC,MAI5B,OAFIzB,IAAYmB,OAAOC,SAASC,KAAO,KAGtC,sBAAKK,UAAU,QAAQC,SAAUnB,EAAjC,UACEF,GAAS,qBAAKoB,UAAU,aAAf,SAA6BpB,IAEvC,uBAAMoB,UAAU,cAAhB,UACC,qBAAKA,UAAU,qBAAf,SACC,uBACCE,KAAK,QACLJ,KAAK,QACLE,UAAU,4BACVG,YAAY,QACZJ,MAAOrB,EAAKF,MACZ4B,SAAUP,MAIZ,qBAAKG,UAAU,qBAAf,SACC,uBACCE,KAAK,WACLJ,KAAK,WACLE,UAAU,+BACVG,YAAY,WACZJ,MAAOrB,EAAKD,SACZ2B,SAAUP,MAGZ,uBAAMG,UAAU,kBAAhB,4BACgB,cAAC,IAAD,CAAMK,GAAG,YAAT,gCAEhB,wBAAQH,KAAK,SAASF,UAAU,oCAAhC,mBAIA,uBAAMA,UAAU,kBAAhB,8BACmB,IAClB,cAAC,IAAD,CAAMK,GAAG,kBAAT","file":"static/js/23.2ed1be4b.chunk.js","sourcesContent":["import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useState } from \"react\";\r\nimport \"./Login.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useStateValue } from \"./../../../StateProvider\";\r\n\r\nconst Login = () => {\r\n\tconst { userAPI } = useStateValue();\r\n\tconst [isLoggedIn] = userAPI.isLoggedIn;\r\n\tconst [user, setUser] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t});\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\"/api/user/login\", {\r\n\t\t\t\temail: user.email,\r\n\t\t\t\tpassword: user.password,\r\n\t\t\t});\r\n\r\n\t\t\tlocalStorage.setItem(\"login\", true);\r\n\t\t\tlocalStorage.setItem(\"refreshToken\", response?.data.accessToken);\r\n\t\t\twindow.location.href = \"/\";\r\n\t\t} catch (err) {\r\n\t\t\tsetError(err.response.data.error);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetError(null);\r\n\t\t\t}, 2000);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeInput = (e) => {\r\n\t\tconst { name, value } = e.target;\r\n\r\n\t\tsetUser({ ...user, [name]: value });\r\n\t};\r\n\tif (isLoggedIn) window.location.href = \"/\";\r\n\r\n\treturn (\r\n\t\t<div className=\"login\" onSubmit={handleSubmit}>\r\n\t\t\t{error && <div className=\"error__box\">{error}</div>}\r\n\r\n\t\t\t<form className=\"login__form\">\r\n\t\t\t\t<div className=\"login__input-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tclassName=\"login__email login__input\"\r\n\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\tvalue={user.email}\r\n\t\t\t\t\t\tonChange={onChangeInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"login__input-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tclassName=\"login__password login__input\"\r\n\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\tonChange={onChangeInput}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span className=\"login__register\">\r\n\t\t\t\t\tNon un utente? <Link to=\"/register\"> Registrati qui</Link>\r\n\t\t\t\t</span>\r\n\t\t\t\t<button type=\"submit\" className=\"login__submit-button login__input\">\r\n\t\t\t\t\tInvia\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<span className=\"forgot-password\">\r\n\t\t\t\t\tForgot Password ?{\" \"}\r\n\t\t\t\t\t<Link to=\"/forgotpassword\">Forgot Password</Link>\r\n\t\t\t\t</span>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}