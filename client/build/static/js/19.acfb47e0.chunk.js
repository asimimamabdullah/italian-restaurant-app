(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[19,39],{101:function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));var n=t(12);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}},145:function(e,r,t){"use strict";t.r(r);t(1);var n=t(0);r.default=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{style:{margin:"30px",fontSize:"2rem",fontWeight:"600",color:"red"},children:"404 Page Not Found"})})}},162:function(e,r,t){},352:function(e,r,t){"use strict";t.r(r);var n=t(101),a=t(7),c=t.n(a),s=t(8),i=t(2),d=t(1),l=t.n(d),o=(t(162),t(13)),b=t(10),u=t.n(b),O=t(4),j=t(145),h=t(0),v=Object(d.lazy)((function(){return t.e(25).then(t.bind(null,353))}));r.default=function(){var e=Object(o.b)().userAPI,r=Object(i.a)(e.isAdmin,1)[0],t=Object(d.useState)(null),a=Object(i.a)(t,2),b=a[0],f=a[1],x=Object(o.b)().token,m=Object(d.useState)([]),p=Object(i.a)(m,2),g=p[0],_=p[1],y=Object(d.useState)([]),N=Object(i.a)(y,2),S=N[0],w=N[1],P=Object(d.useState)([]),k=Object(i.a)(P,2),E=k[0],D=k[1],A=Object(d.useState)(0),z=Object(i.a)(A,2),C=z[0],F=z[1];Object(d.useEffect)((function(){F(0),null===g||void 0===g||g.forEach((function(e){"delivered"===e.orderStatus&&("homedelivery"===e.deliveryOption?F((function(r){return r+e.total+e.deliveryCharges})):"takeaway"===e.deliveryOption&&F((function(r){return r+e.total})))}))}),[g]);var J=Object(d.useCallback)(Object(s.a)(c.a.mark((function e(){var r,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={headers:{Authorization:"Bearer ".concat(x[0])}},e.next=4,u.a.get("/api/user/allorders",r);case 4:return t=e.sent,_(t.data.orders.reverse()),console.log("orders: ",t.data.orders),e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),f(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[x]);Object(d.useEffect)((function(){x[0]&&J()}),[x,J]);var B=Object(d.useCallback)((function(){w(g.filter((function(e){return"pending"===e.orderStatus}))),D(g.filter((function(e){return"delivered"===e.orderStatus})))}),[g]);return Object(d.useEffect)((function(){B()}),[B]),b&&setTimeout((function(){f(null)}),2e3),r?Object(h.jsxs)("div",{className:"manageOrders",children:[b&&Object(h.jsx)("div",{className:"error__box",children:b}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes",children:[Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"All Orders"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:(null===g||void 0===g?void 0:g.length)?null===g||void 0===g?void 0:g.length:"0"})]}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"Pending Orders"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:(null===S||void 0===S?void 0:S.length)?null===S||void 0===S?void 0:S.length:"0"})]}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"Delivered Orders"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:(null===E||void 0===E?void 0:E.length)?null===E||void 0===E?void 0:E.length:"0"})]}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"Earning"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:C})]})]}),Object(h.jsx)("h2",{className:"manageOrders__title",children:"Recent Orders"}),Object(h.jsx)("div",{className:"manageOrders__container",children:null===g||void 0===g?void 0:g.map((function(e,r){var t;return Object(h.jsx)(l.a.Fragment,{children:(null===e||void 0===e||null===(t=e.basket)||void 0===t?void 0:t.length)>0&&Object(h.jsx)(d.Suspense,{fallback:Object(h.jsx)(O.a,{}),children:Object(h.jsx)(v,Object(n.a)({},e))})},r)}))})]}):Object(h.jsx)(j.default,{})}}}]);
//# sourceMappingURL=19.acfb47e0.chunk.js.map