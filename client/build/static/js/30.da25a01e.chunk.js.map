{"version":3,"sources":["Components/DevAdmin/Orders/OrderInfo/OrderInfo.jsx"],"names":["OrderInfo","orderNumber","useParams","useState","error","setError","success","setSuccess","order","setOrder","orderStatus","setOrderStatus","loading","setLoading","getOrder","useCallback","a","axios","get","data","response","changeOrderStatus","e","patch","target","value","useEffect","setTimeout","className","href","style","background","name","onClick","stopPropagation","onChange","lastName","email","phone","deliveryOption","address","building","postalCode","basket","map","item","i","title","quantity","price","colSpan","total","deliveryCharges","margin","paymentOption"],"mappings":"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","file":"static/js/30.da25a01e.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Footer from \"./../../../Screens/Home/Sections/Footer\";\r\nimport \"../../../Screens/FindOrder/FoundOrder.css\";\r\nimport Loading from \"./../../../Screens/Global/Loading\";\r\n\r\nconst OrderInfo = () => {\r\n\tconst { orderNumber } = useParams();\r\n\tconst [error, setError] = useState(null);\r\n\tconst [success, setSuccess] = useState(null);\r\n\tconst [order, setOrder] = useState({});\r\n\tconst [orderStatus, setOrderStatus] = useState(null);\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst getOrder = useCallback(async () => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tconst data = await axios.get(`/api/findorder/${orderNumber}`);\r\n\r\n\t\t\tsetOrder(data.data.order);\r\n\t\t\tsetOrderStatus(data?.data?.order?.orderStatus);\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.response.data.error);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}, [orderNumber]);\r\n\r\n\tconst changeOrderStatus = async (e) => {\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst data = await axios.patch(\r\n\t\t\t\t`/api/user/updateorder/${orderNumber}`,\r\n\t\t\t\t{\r\n\t\t\t\t\torderStatus: e.target.value,\r\n\t\t\t\t},\r\n\t\t\t);\r\n\r\n\t\t\tsetOrderStatus(data?.data.data?.orderStatus);\r\n\t\t\tsetSuccess(\"Order has been updated\");\r\n\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (error) {\r\n\t\t\tsetError(error.response.data.error);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetOrder();\r\n\t}, []);\r\n\r\n\tif (error || success) {\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetError(null);\r\n\t\t\tsetSuccess(null);\r\n\t\t}, 2000);\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"order__success\">\r\n\t\t\t\t{success && <div className=\"success__box\">{success}</div>}\r\n\t\t\t\t{error && <div className=\"error__box\">{error}</div>}\r\n\t\t\t\t<a href=\"/\" className=\"order__success-back-link\">\r\n\t\t\t\t\tGo back to home page\r\n\t\t\t\t</a>\r\n\r\n\t\t\t\t<div className=\"order__success-container\">\r\n\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t<Loading />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\tOrder Status\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclassName=\"order__info-select\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\t\torderStatus === \"pending\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"#f9ca3f\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: orderStatus === \"delivered\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"#8de02c\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"#e42828\",\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tname=\"deliveryStatus\"\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\r\n\t\t\t\t\t\t\t\t\tvalue={orderStatus ? orderStatus : \"\"}\r\n\t\t\t\t\t\t\t\t\tonChange={changeOrderStatus}>\r\n\t\t\t\t\t\t\t\t\t<option value=\"delivered\">delivered</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"pending\">pending</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"cancelled\">cancelled</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t\t<div className=\"foundOrder__page-customerInfo\">\r\n\t\t\t\t\t\t\t\t<h4>Customer Information</h4>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"foundOrder__page-customerInfo-text\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<b>Name</b>:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{`${order?.name ? order?.name : \"\"} ${\r\n\t\t\t\t\t\t\t\t\t\t\torder?.lastName ? order?.lastName : \"\"\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<b>Email</b>: {order?.email}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<b>Phone</b>: {order?.phone}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t{order?.deliveryOption === \"homedelivery\" ? (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Address</b>: {order?.address}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>building</b>: {order?.building}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Postal Code</b>: {order?.postalCode}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<p className=\"foundOrder__page-order\">Your Order</p>\r\n\r\n\t\t\t\t\t\t\t\t<table className=\"foundOrder__page-basket\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Title</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Quantity</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{order?.basket?.map((item, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item?.title}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item?.quantity}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item?.price}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t<tr className=\"foundOrder__page-table-total\">\r\n\t\t\t\t\t\t\t\t\t\t\t<td colSpan={2}>Total</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{order?.total} €</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t\t\t\t{order?.deliveryOption === \"homedelivery\" ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"foundOrder__page-delivery\">\r\n\t\t\t\t\t\t\t\t\t\tDelivery Fee:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<span>{order?.deliveryCharges} €</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<h3 className=\"foundOrder__page-total\">\r\n\t\t\t\t\t\t\t\t\tTotal:{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{order?.deliveryCharges\r\n\t\t\t\t\t\t\t\t\t\t\t? order?.total + order?.deliveryCharges\r\n\t\t\t\t\t\t\t\t\t\t\t: order?.total}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t€\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\r\n\t\t\t\t\t\t\t\t<div style={{ margin: \"30px 0\" }}>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tDelivery Method: \"<b>{order?.deliveryOption}</b>\"\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\tPayment Method: \"\r\n\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t{order?.paymentOption === \"paypaldelivery\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"paypal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"cashondelivery\"}\r\n\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<p className=\"inconvenience-msg\">\r\n\t\t\t\t\t\t\t\t\tFor any kind of inconvenience or issue. Please call\r\n\t\t\t\t\t\t\t\t\ton this number: <b>+39 059 3968633</b>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Footer />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderInfo;\r\n"],"sourceRoot":""}