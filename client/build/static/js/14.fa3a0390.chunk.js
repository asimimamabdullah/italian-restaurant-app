(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14,19,39],{101:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(12);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},145:function(e,t,r){"use strict";r.r(t);r(1);var n=r(0);t.default=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{style:{margin:"30px",fontSize:"2rem",fontWeight:"600",color:"red"},children:"404 Page Not Found"})})}},162:function(e,t,r){},352:function(e,t,r){"use strict";r.r(t);var n=r(101),a=r(7),c=r.n(a),s=r(8),i=r(2),d=r(1),l=r.n(d),o=(r(162),r(13)),u=r(10),b=r.n(u),O=r(4),j=r(145),h=r(0),f=Object(d.lazy)((function(){return r.e(25).then(r.bind(null,353))}));t.default=function(){var e=Object(o.b)().userAPI,t=Object(i.a)(e.isAdmin,1)[0],r=Object(d.useState)(null),a=Object(i.a)(r,2),u=a[0],v=a[1],x=Object(o.b)().token,m=Object(d.useState)([]),p=Object(i.a)(m,2),g=p[0],_=p[1],N=Object(d.useState)([]),y=Object(i.a)(N,2),S=y[0],w=y[1],P=Object(d.useState)([]),k=Object(i.a)(P,2),E=k[0],D=k[1],A=Object(d.useState)(0),z=Object(i.a)(A,2),C=z[0],F=z[1];Object(d.useEffect)((function(){F(0),null===g||void 0===g||g.forEach((function(e){"delivered"===e.orderStatus&&("homedelivery"===e.deliveryOption?F((function(t){return t+e.total+e.deliveryCharges})):"takeaway"===e.deliveryOption&&F((function(t){return t+e.total})))}))}),[g]);var J=Object(d.useCallback)(Object(s.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{Authorization:"Bearer ".concat(x[0])}},e.next=4,b.a.get("/api/user/allorders",t);case 4:return r=e.sent,_(r.data.orders.reverse()),console.log("orders: ",r.data.orders),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),v(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[x]);Object(d.useEffect)((function(){x[0]&&J()}),[x,J]);var B=Object(d.useCallback)((function(){w(g.filter((function(e){return"pending"===e.orderStatus}))),D(g.filter((function(e){return"delivered"===e.orderStatus})))}),[g]);return Object(d.useEffect)((function(){B()}),[B]),u&&setTimeout((function(){v(null)}),2e3),t?Object(h.jsxs)("div",{className:"manageOrders",children:[u&&Object(h.jsx)("div",{className:"error__box",children:u}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes",children:[Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"All Orders"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:(null===g||void 0===g?void 0:g.length)?null===g||void 0===g?void 0:g.length:"0"})]}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"Pending Orders"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:(null===S||void 0===S?void 0:S.length)?null===S||void 0===S?void 0:S.length:"0"})]}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"Delivered Orders"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:(null===E||void 0===E?void 0:E.length)?null===E||void 0===E?void 0:E.length:"0"})]}),Object(h.jsxs)("div",{className:"manageOrders__header-boxes-box",children:[Object(h.jsx)("p",{className:"manageOrders__header-box-title",children:"Earning"}),Object(h.jsx)("p",{className:"manageOrders__header-box-desc",children:C})]})]}),Object(h.jsx)("h2",{className:"manageOrders__title",children:"Recent Orders"}),Object(h.jsx)("div",{className:"manageOrders__container",children:null===g||void 0===g?void 0:g.map((function(e,t){var r;return Object(h.jsx)(l.a.Fragment,{children:(null===e||void 0===e||null===(r=e.basket)||void 0===r?void 0:r.length)>0&&Object(h.jsx)(d.Suspense,{fallback:Object(h.jsx)(O.a,{}),children:Object(h.jsx)(f,Object(n.a)({},e))})},t)}))})]}):Object(h.jsx)(j.default,{})}},744:function(e,t,r){"use strict";r.r(t);r(1);var n=r(352),a=r(0);t.default=function(){return Object(a.jsx)("div",{className:"dashboardHome",children:Object(a.jsx)(n.default,{})})}}}]);
//# sourceMappingURL=14.fa3a0390.chunk.js.map